# CS50w Project 1: BookLooks

![booklooks logo](.github/readme-entry.png)

Create an account to find and review books,and check book ratings from others on BookLooks and via third-party API, Goodreads.

## **Project**

---

**[CS50W - Web Programming](https://courses.edx.org/courses/course-v1:HarvardX+CS50W+Web/course/)**

**Video Submission**: [https://youtu.be/Tij1Kv7Rt7E](https://youtu.be/Tij1Kv7Rt7E)

**Project1**

- Python/Jinja/Flask
- SQL-Alchemy _(No ORM)_/PostsgreSQL/Heroku
- jQuery/Sass/Bootstrap

## **File Navigation**

---

### `requirements.txt`

Generated with `env/bin/pip freeze > requirements.txt`.

Added packages outside of Python Standard Library:

- SQL-Alchemy - to execute "raw" SQL queries in python code.
- Flask-Assets > Web Assets - to compile sass files to single css style sheet.

```
pip3 install -r requirements.txt
```

### `import.py`

Import local file books.csv containing books' isbn, title, author, and publication year into the [Heroku-Postgre database](heroku.com/postgres).

```
python3 import.py
```

### `schema.sql`

If tables users, books, review do not exist, creates them with specified schemas.

- Users: stores usernames and passwords (hashed).
- Books: stores only information pertaining to each book.
- Reviews: stores reviews left on this site, along with references to which book and which user.

### `app.py`

Configures and inializes the flask app to handle requests, executes database queries via sql-alchemy and returns rendered templates or JSON responses.

```
flask run
```

### `helpers.py`

Contains various helper functions for formatting, error handling, goodreads API request, and number formatting.

### `templates/`

Contains Jinja-HTML templates:

- `layout.html` - Head w/ metadata, navbar, and footer. Content from other views is rendered to `main` template block.
- `login.html` - Log In Form to access sites features.
- `register.html` - Registation form for new users to create an account. Requires a matching confirmation password and will also check that username does is not taken before registering the account with the database.
- `index.html` - After logging in, users are redirected to this home page, which shows the search form for finding books by title, author, or isbn.
- `search.html` - While users can search via navbar form or on the home page, this file shows book results for queries, or allows browsing by the first letter of book titles.
- `book.html` - Displays book and review details (rendered by database book ID). Details include data stored in our database and cover sourced from [openlibrary.org](https://openlibrary.org/). Review overview from Goodreads and from this site are also shown. If reviews exist for the selected book on this site, each review will be shown. Finally, if a user has not submitted a review for a book, this page shows the review submission form. If they have already submitted a review, this will be replaced by their rating.
- `error.html` - Friendly server side error response showing error status code and message in front of an accordingly themed image via [memegen](https://github.com/jacebrowning/memegen).

### `static/`

Client-side javascript, stylesheets, and graphics.

- `assets/` includes favicon and single image used as backup when book cover isn't in API library.
- `js/` organized by template, mostly for added UX feedback and additional client-side form validations before sending to server.
- `sass/` Partial scss files imported into `main.scss` for compilation into CSS.
- `/styles.css` The stylesheet generated by the sass files to be used by the application.
- `/theme.css` Alternate theme from [bootswatch](https://bootswatch.com/) to provide a variation to the default bootstrap themes.

## Website Usage

---

### **Register**

First-time users can create their account here. A confirmation password is required and will provide user-friendly response should they re-type their password correctly.

![confirmation validation screenshot](.github/confirmation-validation.jpg?raw=true)

If the username exists already, the form will not be posted and user will receive a friendly notificaition.

![username exists screenshot](.github/username-taken.jpg?raw=true)

### **Login**

Returning users can log in here. You'll need to log in to use most of the site's features.

### **Home**

After logging in, you'll be taken to the home page, which displays a simple but elegant search form. Find a book in the database by title, author, or isbn.

![welcome screen](.github/home-page.jpg?raw=true)

Users can also search from the inline navbar form from any page.

### **Search**

Results are displayed on the search page, displayed in a more-appealing grid format.

![search results screen](.github/search-results.jpg?raw=true)

If nothing matched the users search, they'll be notified, with an option to return to the home page.

![no results for search screen](.github/no-search-match.jpg?raw=true)

If no parameter was provided to search, they'll default to the **Browse** format, allowing users to browse books by the first letter of book titles.

![browse format screen](.github/browse.jpg?raw=true)

### Book

After selecting a book, users will be taken to the book details page. In one section, they'll see information for the book including title, year, author, and isbn in addition to an image cover (if available) provided by [Open Library](https://www.openlibrary.org/).

In another section, ratings for the book are displayed. This includes overall ratings for the book from this site as well as third-party [Goodreads](https://www.goodreads.com). A list of submitted reviews on this site is also shown.

![book-details screen](.github/book-details.jpg?raw=true)

If no reviews for the book are shown, users will have the option to "Be the first", which focuses them on the review form.

![no reviews yet screen](.github/no-reviews-yet.jpg?raw=true)

### Review

Also on the book details page is the review form. On this site, stars corresponding to a 1-5 ranking are used, just to make things a little bit more fun üòé. Rating is required to submit, but text is optional.

![review form screen](.github/review-form.jpg?raw=true)

After submitting a review, the book page will re-load, showing their review first! And since only one rating per book per user is allowed, the user will be reminded of their rating in place of the review form.

![review-submitted screen](.github/review-submitted.jpg?raw=true)

## **API Usage**

---

`GET` requests can be sent to the `/api/<isbn>` endpoint, no key required.

‚ùå ISBN must be formatted in valid ISBN-10 format.

![api formatting error response](.github/api-invalid-request.jpg?raw=true)

‚ùå `404 NOT FOUND` response is returned if the book does not exist on "BookLooks".

![book not in booklooks database](.github/no-isbn-match.jpg?raw=true)

‚úÖ If valid formatted ISBN-10 matches a book in our database, JSON response containing book details and this site's review data is returned.

![valid api response to sample isbn](.github/api-response.jpg?raw=true)
